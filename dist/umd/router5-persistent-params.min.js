!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("router5PersistentParamsPlugin",t):e.router5PersistentParamsPlugin=t()}(this,function(){"use strict";var e={};e.defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e["extends"]=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var t=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return function(n){var r=Array.isArray(t)?t.reduce(function(t,n){return e["extends"]({},t,e.defineProperty({},n,void 0))},{}):t,u=Object.keys(r),a=n.rootNode.path.split("?")[0]+u.length?"?"+u.join("&"):"";n.rootNode.setPath(a);var i=n.buildPath,o=n.buildState;return n.buildPath=function(t,u){var a=e["extends"]({},r,u);return i.call(n,t,a)},n.buildState=function(t,u){var a=e["extends"]({},r,u);return o.call(n,t,a)},{name:"PERSISTENT_PARAMS",onTransitionSuccess:function(e){Object.keys(e.params).filter(function(e){return-1!==u.indexOf(e)}).forEach(function(t){return r[t]=e.params[t]})}}}};return t});