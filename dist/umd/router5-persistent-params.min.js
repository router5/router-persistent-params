!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("router5PersistentParamsPlugin",t):e.router5PersistentParamsPlugin=t()}(this,function(){"use strict";var e={};e.defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e["extends"]=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var t=function(t){return function(n){var r=t.reduce(function(t,n){return e["extends"]({},t,e.defineProperty({},n,void 0))},{}),o=n.rootNode.path.split("?")[0]+t.length?"?"+t.join("&"):"";n.rootNode.setPath(o);var i=n.buildPath,u=n.buildState;return n.buildPath=function(t,o){var u=e["extends"]({},r,o);return i.call(n,t,u)},n.buildState=function(t,o){var i=e["extends"]({},r,o);return u.call(n,t,i)},{name:"PERSISTENT_PARAMS",onTransitionSuccess:function(e){Object.keys(e.params).filter(function(e){return-1!==t.indexOf(e)}).forEach(function(t){return r[t]=e.params[t]})}}}};return t});