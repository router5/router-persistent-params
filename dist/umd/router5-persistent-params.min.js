!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("router5PersistentParamsPlugin",t):e.router5PersistentParamsPlugin=t()}(this,function(){"use strict";var e={};e.defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e["extends"]=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var t=function(t){return Object.keys(t).filter(function(e){return void 0!==t[e]}).reduce(function(n,r){return e["extends"]({},n,e.defineProperty({},r,t[r]))},{})},n=function(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return function(r){var u=Array.isArray(n)?n.reduce(function(t,n){return e["extends"]({},t,e.defineProperty({},n,void 0))},{}):n,i=Object.keys(u),o=r.rootNode.path.split("?")[0]+i.length?"?"+i.join("&"):"";r.rootNode.setPath(o);var a=r.buildPath,s=r.buildState;return r.buildPath=function(n,i){var o=e["extends"]({},t(u),i);return a.call(r,n,o)},r.buildState=function(n,i){var o=e["extends"]({},t(u),i);return s.call(r,n,o)},{name:"PERSISTENT_PARAMS",onTransitionSuccess:function(e){Object.keys(e.params).filter(function(e){return-1!==i.indexOf(e)}).forEach(function(t){return u[t]=e.params[t]})}}}};return n});